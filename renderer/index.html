<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; script-src 'self' 'unsafe-inline'; img-src 'self' data: blob: https: file:;" />
  <title>Mandy</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400;1,600&family=Crimson+Pro:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400;1,600&family=JetBrains+Mono:wght@300;400;500&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
  <link id="hljs-theme" rel="stylesheet" href="../node_modules/highlight.js/styles/github-dark.min.css" />
</head>
<body data-theme="dark" data-font="serif">

  <!-- Custom titlebar -->
  <div id="titlebar">
    <div id="titlebar-drag"></div>
    <div id="titlebar-left">
      <div id="app-logo">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
          <path d="M4 4h16v2H4zM4 8h12v2H4zM4 12h16v2H4zM4 16h10v2H4z" fill="currentColor"/>
        </svg>
        <span>mandy</span>
      </div>
    </div>
    <div id="titlebar-center">
      <span id="file-title">No file open</span>
      <span id="unsaved-dot" class="hidden" title="Unsaved changes" data-i18n-title="tt.unsaved">●</span>
    </div>
    <div id="titlebar-right">
      <div id="view-mode-group">
        <button class="view-mode-btn active" data-mode="preview" title="Preview (Ctrl+Shift+P)" data-i18n-title="tt.preview">
          <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
        </button>
        <button class="view-mode-btn" data-mode="split" title="Split view (Ctrl+Shift+E)" data-i18n-title="tt.split">
          <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><line x1="12" y1="3" x2="12" y2="21"/></svg>
        </button>
        <button class="view-mode-btn" data-mode="edit" title="Edit mode (Ctrl+E)" data-i18n-title="tt.edit">
          <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
        </button>
      </div>
      <button id="btn-find" title="Find (Ctrl+F)" data-i18n-title="tt.find">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
      </button>
      <button id="btn-settings" title="Settings (Ctrl+,)" data-i18n-title="tt.settings">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
      </button>
      <div id="win-controls">
        <button id="btn-min" title="Minimize">
          <svg width="10" height="1" viewBox="0 0 10 1"><rect width="10" height="1" fill="currentColor"/></svg>
        </button>
        <button id="btn-max" title="Maximize">
          <svg width="10" height="10" viewBox="0 0 10 10" fill="none" stroke="currentColor" stroke-width="1.2"><rect x=".6" y=".6" width="8.8" height="8.8" rx="1"/></svg>
        </button>
        <button id="btn-close" title="Close">
          <svg width="10" height="10" viewBox="0 0 10 10"><path d="M1 1l8 8M9 1L1 9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Progress bar -->
  <div id="progress-bar"><div id="progress-fill"></div></div>

  <!-- Find bar -->
  <div id="find-bar" class="hidden">
    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
    <input id="find-input" type="text" placeholder="Find in document…" data-i18n-placeholder="find.placeholder" autocomplete="off" spellcheck="false"/>
    <span id="find-count"></span>
    <button id="find-prev" title="Previous">
      <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M15 18l-6-6 6-6"/></svg>
    </button>
    <button id="find-next" title="Next">
      <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M9 18l6-6-6-6"/></svg>
    </button>
    <button id="find-close">
      <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"/></svg>
    </button>
  </div>

  <!-- Main layout -->
  <div id="app">

    <!-- Sidebar -->
    <aside id="sidebar" class="visible">
      <nav id="sidebar-tabs">
        <button class="tab-btn active" data-tab="recents">
          <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>
          <span data-i18n="nav.recent">Recent</span>
        </button>
        <button class="tab-btn" data-tab="folder">
          <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/></svg>
          <span data-i18n="nav.folder">Folder</span>
        </button>
        <button class="tab-btn" data-tab="toc">
          <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="15" y2="18"/></svg>
          <span data-i18n="nav.outline">Outline</span>
        </button>
      </nav>

      <div id="tab-recents" class="tab-content active">
        <div class="sidebar-header">
          <span data-i18n="hdr.recents">Recent Files</span>
          <button id="btn-open-file" title="Open file" data-i18n-title="tt.openFile">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
          </button>
        </div>
        <div id="recents-list"></div>
        <div id="recents-empty" class="sidebar-empty hidden">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.2" opacity=".4"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
          <p data-i18n="empty.recents">No recent files</p>
          <button data-i18n="btn.openFile" onclick="window.mandy.openFileDialog()">Open a file</button>
        </div>
      </div>

      <div id="tab-folder" class="tab-content hidden">
        <div class="sidebar-header">
          <span id="folder-name">No folder</span>
          <button id="btn-open-folder" title="Open folder" data-i18n-title="tt.openFolder">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/></svg>
          </button>
        </div>
        <div id="folder-list"></div>
        <div id="folder-empty" class="sidebar-empty">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.2" opacity=".4"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/></svg>
          <p data-i18n="empty.folder">No folder open</p>
          <button data-i18n="btn.openFolder" onclick="document.getElementById('btn-open-folder').click()">Open folder</button>
        </div>
      </div>

      <div id="tab-toc" class="tab-content hidden">
        <div class="sidebar-header"><span data-i18n="hdr.outline">Outline</span></div>
        <div id="toc-list"></div>
        <div id="toc-empty" class="sidebar-empty">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.2" opacity=".4"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="15" y2="18"/></svg>
          <p data-i18n="empty.noDoc">No document open</p>
        </div>
      </div>
    </aside>

    <!-- Sidebar toggle -->
    <button id="sidebar-toggle" title="Toggle sidebar (Ctrl+B)" data-i18n-title="tt.sidebar">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M9 3v18"/></svg>
    </button>

    <!-- Main content -->
    <main id="main">

      <!-- Tab bar -->
      <div id="tab-bar">
        <button id="tab-new-btn" title="New tab (Ctrl+T)" data-i18n-title="tt.newTab">+</button>
      </div>

      <!-- Welcome screen -->
      <div id="welcome">
        <div id="welcome-inner">
          <div id="welcome-logo">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="4" width="18" height="18" rx="2" stroke="currentColor" stroke-width="1.5"/>
              <path d="M7 8h10M7 12h8M7 16h6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
            <h1>mandy</h1>
            <p data-i18n="welcome.tagline">A beautiful Markdown reader</p>
          </div>
          <div id="welcome-actions">
            <button id="welcome-open" class="primary-btn">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
              <span data-i18n="btn.openFile">Open File</span>
            </button>
            <button id="welcome-new" class="secondary-btn">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14M5 12h14"/></svg>
              <span data-i18n="btn.newFile">New File</span>
            </button>
            <button id="welcome-folder" class="secondary-btn">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/></svg>
              <span data-i18n="btn.openFolder">Open Folder</span>
            </button>
          </div>
          <div id="welcome-recents-wrap">
            <h2 data-i18n="welcome.recent">Recent</h2>
            <div id="welcome-recents"></div>
          </div>
          <div id="welcome-shortcuts">
            <div class="shortcut"><kbd>Ctrl</kbd><kbd>O</kbd><span data-i18n="sc.openFile">Open file</span></div>
            <div class="shortcut"><kbd>Ctrl</kbd><kbd>N</kbd><span data-i18n="sc.newTab">New tab</span></div>
            <div class="shortcut"><kbd>Ctrl</kbd><kbd>W</kbd><span data-i18n="sc.closeTab">Close tab</span></div>
            <div class="shortcut"><kbd>Ctrl</kbd><kbd>S</kbd><span data-i18n="sc.save">Save</span></div>
            <div class="shortcut"><kbd>Ctrl</kbd><kbd>E</kbd><span data-i18n="sc.editMode">Edit mode</span></div>
            <div class="shortcut"><kbd>Ctrl</kbd><kbd>F</kbd><span data-i18n="sc.find">Find</span></div>
            <div class="shortcut"><kbd>Ctrl</kbd><kbd>B</kbd><span data-i18n="sc.sidebar">Sidebar</span></div>
          </div>
        </div>
      </div>

      <!-- Document viewer -->
      <div id="viewer" class="hidden">

        <!-- Editor pane (visible in split/edit modes) -->
        <div id="editor-pane">
          <div id="editor-toolbar">
            <button class="toolbar-btn" data-action="bold" title="Bold (Ctrl+B)" data-i18n-title="tt.tb.bold"><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"/><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"/></svg></button>
            <button class="toolbar-btn" data-action="italic" title="Italic (Ctrl+I)" data-i18n-title="tt.tb.italic"><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="19" y1="4" x2="10" y2="4"/><line x1="14" y1="20" x2="5" y2="20"/><line x1="15" y1="4" x2="9" y2="20"/></svg></button>
            <button class="toolbar-btn" data-action="strikethrough" title="Strikethrough" data-i18n-title="tt.tb.strike"><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.3 12.3c.4.5.7 1.2.7 2a4 4 0 0 1-4 4H8"/><path d="M6.7 11.7C6.3 11.2 6 10.5 6 9.8a4 4 0 0 1 4-4h6"/><line x1="4" y1="12" x2="20" y2="12"/></svg></button>
            <div class="toolbar-sep"></div>
            <button class="toolbar-btn" data-action="h1" title="Heading 1" data-i18n-title="tt.tb.h1"><span style="font-size:11px;font-weight:700">H1</span></button>
            <button class="toolbar-btn" data-action="h2" title="Heading 2" data-i18n-title="tt.tb.h2"><span style="font-size:11px;font-weight:700">H2</span></button>
            <button class="toolbar-btn" data-action="h3" title="Heading 3" data-i18n-title="tt.tb.h3"><span style="font-size:11px;font-weight:700">H3</span></button>
            <div class="toolbar-sep"></div>
            <button class="toolbar-btn" data-action="code" title="Inline code (Ctrl+`)" data-i18n-title="tt.tb.code"><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg></button>
            <button class="toolbar-btn" data-action="codeblock" title="Code block" data-i18n-title="tt.tb.codeblock"><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg></button>
            <div class="toolbar-sep"></div>
            <button class="toolbar-btn" data-action="link" title="Link (Ctrl+K)" data-i18n-title="tt.tb.link"><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg></button>
            <button class="toolbar-btn" data-action="image" title="Image" data-i18n-title="tt.tb.image"><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg></button>
            <div class="toolbar-sep"></div>
            <button class="toolbar-btn" data-action="ul" title="Bullet list" data-i18n-title="tt.tb.ul"><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="9" y1="6" x2="20" y2="6"/><line x1="9" y1="12" x2="20" y2="12"/><line x1="9" y1="18" x2="20" y2="18"/><circle cx="4" cy="6" r="1" fill="currentColor"/><circle cx="4" cy="12" r="1" fill="currentColor"/><circle cx="4" cy="18" r="1" fill="currentColor"/></svg></button>
            <button class="toolbar-btn" data-action="ol" title="Numbered list" data-i18n-title="tt.tb.ol"><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="10" y1="6" x2="21" y2="6"/><line x1="10" y1="12" x2="21" y2="12"/><line x1="10" y1="18" x2="21" y2="18"/><path d="M4 6h1v4"/><path d="M4 10h2"/><path d="M6 18H4c0-1 2-2 2-3s-1-1.5-2-1"/></svg></button>
            <button class="toolbar-btn" data-action="blockquote" title="Blockquote" data-i18n-title="tt.tb.blockquote"><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z"/><path d="M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z"/></svg></button>
            <button class="toolbar-btn" data-action="hr" title="Horizontal rule" data-i18n-title="tt.tb.hr"><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"/></svg></button>
          </div>
          <textarea id="editor-textarea" spellcheck="false" placeholder="Start writing Markdown…" data-i18n-placeholder="editor.placeholder"></textarea>
          <div id="editor-statusbar">
            <span id="editor-pos">Ln 1, Col 1</span>
            <span id="editor-chars">0 chars</span>
          </div>
        </div>

        <div id="scroll-container">
          <article id="content-wrap">
            <div id="doc-meta">
              <span id="doc-filename"></span>
              <div id="doc-stats">
                <span id="stat-words"></span>
                <span id="stat-read"></span>
                <span id="stat-chars"></span>
              </div>
            </div>
            <div id="md-content"></div>
          </article>
        </div>
        <div id="scroll-indicator">
          <div id="scroll-thumb"></div>
        </div>
      </div>

    </main>
  </div>

  <!-- Settings panel -->
  <div id="settings-overlay" class="hidden">
    <div id="settings-panel">
      <div id="settings-header">
        <h2 data-i18n="set.settings">Settings</h2>
        <button id="settings-close">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"/></svg>
        </button>
      </div>
      <div id="settings-body">

        <section class="settings-section">
          <h3 data-i18n="set.general">General</h3>
          <div class="setting-row">
            <label data-i18n="set.language">Language</label>
            <select id="cfg-language">
              <option value="en">English</option>
              <option value="es">Español</option>
              <option value="fr">Français</option>
              <option value="de">Deutsch</option>
              <option value="pt">Português</option>
              <option value="ja">日本語</option>
              <option value="zh">中文</option>
            </select>
          </div>
        </section>

        <section class="settings-section">
          <h3 data-i18n="set.appearance">Appearance</h3>
          <div class="setting-row">
            <label data-i18n="set.theme">Theme</label>
            <div class="theme-picker">
              <button class="theme-btn" data-theme="dark">
                <span class="theme-swatch dark-swatch"></span><span data-i18n="theme.dark">Dark</span>
              </button>
              <button class="theme-btn" data-theme="light">
                <span class="theme-swatch light-swatch"></span><span data-i18n="theme.light">Light</span>
              </button>
              <button class="theme-btn" data-theme="sepia">
                <span class="theme-swatch sepia-swatch"></span><span data-i18n="theme.sepia">Sepia</span>
              </button>
            </div>
          </div>
          <div class="setting-row">
            <label data-i18n="set.accentColor">Accent Color</label>
            <div class="palette-picker">
              <button class="palette-btn" data-palette="amber" title="Amber" data-i18n-title="tt.amber" style="background:#c9a84c"></button>
              <button class="palette-btn" data-palette="sky" title="Sky" data-i18n-title="tt.sky" style="background:#3b9eff"></button>
              <button class="palette-btn" data-palette="emerald" title="Emerald" data-i18n-title="tt.emerald" style="background:#3fb87a"></button>
              <button class="palette-btn" data-palette="violet" title="Violet" data-i18n-title="tt.violet" style="background:#9f7aea"></button>
              <button class="palette-btn" data-palette="rose" title="Rose" data-i18n-title="tt.rose" style="background:#e05a7a"></button>
              <button class="palette-btn" data-palette="teal" title="Teal" data-i18n-title="tt.teal" style="background:#2bb5b8"></button>
            </div>
          </div>
        </section>

        <section class="settings-section">
          <h3 data-i18n="set.typography">Typography</h3>
          <div class="setting-row">
            <label data-i18n="set.fontFamily">Font Family</label>
            <div class="font-picker">
              <button class="font-btn" data-font="serif"><span data-i18n="font.serif">Serif</span></button>
              <button class="font-btn" data-font="sans"><span data-i18n="font.sans">Sans-serif</span></button>
              <button class="font-btn" data-font="mono"><span data-i18n="font.mono">Monospace</span></button>
            </div>
          </div>
          <div class="setting-row">
            <label><span data-i18n="set.fontSize">Font Size</span> <span class="setting-value" id="val-font-size">17px</span></label>
            <input type="range" id="cfg-font-size" min="12" max="28" step="1" />
          </div>
          <div class="setting-row">
            <label><span data-i18n="set.lineHeight">Line Height</span> <span class="setting-value" id="val-line-height">1.75</span></label>
            <input type="range" id="cfg-line-height" min="1.2" max="2.4" step="0.05" />
          </div>
        </section>

        <section class="settings-section">
          <h3 data-i18n="set.layout">Layout</h3>
          <div class="setting-row">
            <label><span data-i18n="set.contentWidth">Content Width</span> <span class="setting-value" id="val-content-width">720px</span></label>
            <input type="range" id="cfg-content-width" min="480" max="1200" step="20" />
          </div>
        </section>

        <section class="settings-section">
          <h3 data-i18n="set.code">Code</h3>
          <div class="setting-row">
            <label data-i18n="set.codeTheme">Code Theme</label>
            <select id="cfg-code-theme">
              <option value="github-dark">GitHub Dark</option>
              <option value="github">GitHub Light</option>
              <option value="monokai">Monokai</option>
              <option value="tokyo-night-dark">Tokyo Night</option>
              <option value="nord">Nord</option>
              <option value="dracula">Dracula</option>
              <option value="atom-one-dark">Atom One Dark</option>
              <option value="vs2015">VS 2015</option>
              <option value="base16/solarized-light">Solarized Light</option>
            </select>
          </div>
        </section>

        <section class="settings-section">
          <h3 data-i18n="set.reading">Reading</h3>
          <div class="setting-row toggle-row">
            <label data-i18n="set.liveReload">Live reload on file change</label>
            <label class="toggle">
              <input type="checkbox" id="cfg-live-reload" />
              <span class="toggle-track"></span>
            </label>
          </div>
          <div class="setting-row toggle-row">
            <label data-i18n="set.wordCount">Show word count</label>
            <label class="toggle">
              <input type="checkbox" id="cfg-word-count" />
              <span class="toggle-track"></span>
            </label>
          </div>
          <div class="setting-row toggle-row">
            <label data-i18n="set.smoothScroll">Smooth scrolling</label>
            <label class="toggle">
              <input type="checkbox" id="cfg-smooth-scroll" />
              <span class="toggle-track"></span>
            </label>
          </div>
        </section>

        <div id="settings-footer">
          <button id="settings-reset" data-i18n="btn.resetDefaults">Reset to defaults</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Status bar -->
  <div id="status-bar">
    <div id="status-left">
      <span id="status-file"></span>
    </div>
    <div id="status-right">
      <span id="status-pos"></span>
      <span id="status-encoding" data-i18n="stat.encoding">UTF-8</span>
      <span id="status-type" data-i18n="stat.type">Markdown</span>
    </div>
  </div>

  <!-- Preview context menu -->
  <div id="preview-context-menu" class="hidden">
    <button id="cm-copy-md">Copy with Markdown</button>
    <button id="cm-copy-text">Copy Plain Text</button>
    <div class="cm-sep"></div>
    <button id="cm-find">Find in Document</button>
    <button id="cm-find-editor">Find in Editor</button>
  </div>

  <script src="renderer.js"></script>
</body>
</html>
